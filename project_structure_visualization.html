<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BOT_AI_V3 - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        .stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin-top: 20px;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
        }
        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
            text-transform: uppercase;
        }
        .content {
            padding: 40px;
        }
        .diagram-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 40px;
            overflow-x: auto;
        }
        .mermaid {
            text-align: center;
        }
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        .legend-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid;
        }
        .legend-item.root { border-left-color: #ff6b6b; }
        .legend-item.entry { border-left-color: #4ecdc4; }
        .legend-item.core { border-left-color: #45b7d1; }
        .legend-item.ml { border-left-color: #96ceb4; }
        .legend-item.data { border-left-color: #ffeaa7; }
        .legend-item.api { border-left-color: #dfe6e9; }
        .legend-item.exchange { border-left-color: #a29bfe; }
        .legend-item.monitor { border-left-color: #fd79a8; }

        .legend-item h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .legend-item p {
            margin: 0;
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }
        .flow-description {
            background: #e8f4fd;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        .flow-description h2 {
            color: #2c3e50;
            margin-top: 0;
        }
        .flow-steps {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }
        .flow-step {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .flow-step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .flow-step-text {
            color: #2c3e50;
        }
        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ BOT_AI_V3</h1>
            <p>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏</p>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value">673</div>
                    <div class="stat-label">–§–∞–π–ª–æ–≤</div>
                </div>
                <div class="stat">
                    <div class="stat-value">207K+</div>
                    <div class="stat-label">–°—Ç—Ä–æ–∫ –∫–æ–¥–∞</div>
                </div>
                <div class="stat">
                    <div class="stat-value">7</div>
                    <div class="stat-label">–ë–∏—Ä–∂</div>
                </div>
                <div class="stat">
                    <div class="stat-value">240+</div>
                    <div class="stat-label">ML –ø—Ä–∏–∑–Ω–∞–∫–æ–≤</div>
                </div>
            </div>
        </div>

        <div class="content">
            <div class="diagram-container">
                <div class="mermaid">
flowchart TB
    %% –°—Ç–∏–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    classDef rootStyle fill:#ff6b6b,stroke:#333,stroke-width:4px,color:#fff
    classDef entryStyle fill:#4ecdc4,stroke:#333,stroke-width:2px,color:#fff
    classDef coreStyle fill:#45b7d1,stroke:#333,stroke-width:2px,color:#fff
    classDef mlStyle fill:#96ceb4,stroke:#333,stroke-width:2px,color:#fff
    classDef dataStyle fill:#ffeaa7,stroke:#333,stroke-width:2px,color:#333
    classDef apiStyle fill:#dfe6e9,stroke:#333,stroke-width:2px,color:#333
    classDef exchangeStyle fill:#a29bfe,stroke:#333,stroke-width:2px,color:#fff
    classDef monitorStyle fill:#fd79a8,stroke:#333,stroke-width:2px,color:#fff

    %% –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    BOT_AI_V3["ü§ñ BOT_AI_V3<br/>Root System<br/>673 files, 207K+ LOC"]:::rootStyle
    UnifiedLauncher["üöÄ UnifiedLauncher<br/>Entry Point<br/>unified_launcher.py"]:::entryStyle
    SystemOrchestrator["üéØ SystemOrchestrator<br/>Core Component<br/>orchestrator.py"]:::coreStyle

    %% Trading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    TradingEngine["üíπ TradingEngine<br/>Trading Core<br/>engine.py:597"]:::coreStyle
    OrderManager["üìã OrderManager<br/>Order Management<br/>order_manager.py"]:::coreStyle
    RiskManager["‚ö†Ô∏è RiskManager<br/>Risk Control<br/>5x leverage, 2% risk"]:::coreStyle
    SignalGenerator["üì° SignalGenerator<br/>Signal Generation<br/>ai_signal_generator.py"]:::coreStyle

    %% ML –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    MLManager["üß† MLManager<br/>ML System<br/>UnifiedPatchTST"]:::mlStyle
    MLSignalProcessor["‚ö° MLSignalProcessor<br/>ML Processing<br/>Unique predictions/min"]:::mlStyle
    FeatureEngineering["üîß FeatureEngineering<br/>ML Features<br/>240+ indicators"]:::mlStyle

    %% Data –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    DataManager["üìä DataManager<br/>Data Management<br/>Real-time updates"]:::dataStyle
    PostgreSQL[("üóÑÔ∏è PostgreSQL<br/>Database<br/>Port 5555")]:::dataStyle

    %% Exchange –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ExchangeManager["üè¶ ExchangeManager<br/>7 Exchanges<br/>Bybit, Binance, OKX..."]:::exchangeStyle

    %% Web –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    WebAPI["üåê WebAPI<br/>REST API<br/>Port 8080"]:::apiStyle
    Frontend["üíª Frontend<br/>React + TS<br/>Port 5173"]:::apiStyle

    %% Utility –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    ConfigManager["‚öôÔ∏è ConfigManager<br/>Configuration<br/>YAML configs"]:::monitorStyle
    HealthMonitor["‚ù§Ô∏è HealthMonitor<br/>Monitoring<br/>health_monitor.py"]:::monitorStyle
    AlembicMigrations["üîÑ AlembicMigrations<br/>DB Migrations<br/>alembic/"]:::dataStyle

    %% –°–≤—è–∑–∏ - Entry flow
    BOT_AI_V3 ==>|entry point| UnifiedLauncher
    UnifiedLauncher -->|starts| SystemOrchestrator
    UnifiedLauncher -->|launches| WebAPI
    UnifiedLauncher -->|launches| Frontend

    %% –°–≤—è–∑–∏ - Core orchestration
    SystemOrchestrator -->|coordinates| TradingEngine
    SystemOrchestrator -->|manages| MLManager
    SystemOrchestrator -->|controls| DataManager
    SystemOrchestrator -.->|monitors with| HealthMonitor

    %% –°–≤—è–∑–∏ - Trading flow
    TradingEngine <-->|signals| SignalGenerator
    TradingEngine -->|validates| RiskManager
    TradingEngine -->|creates| OrderManager
    RiskManager -->|approves| OrderManager
    OrderManager ==>|executes| ExchangeManager

    %% –°–≤—è–∑–∏ - ML flow
    MLManager -->|uses| FeatureEngineering
    MLManager ==>|predictions| MLSignalProcessor
    MLSignalProcessor -->|provides| SignalGenerator
    FeatureEngineering <-->|processes| DataManager

    %% –°–≤—è–∑–∏ - Data flow
    DataManager <-->|sync| ExchangeManager
    DataManager ==>|stores| PostgreSQL
    OrderManager -->|logs| PostgreSQL
    SignalGenerator -->|saves| PostgreSQL
    ExchangeManager -->|trades| PostgreSQL
    HealthMonitor -.->|metrics| PostgreSQL

    %% –°–≤—è–∑–∏ - Web flow
    Frontend <-->|API calls| WebAPI
    WebAPI <-->|queries| SystemOrchestrator
    WebAPI -->|reads| PostgreSQL

    %% –°–≤—è–∑–∏ - Configuration
    ConfigManager -.->|configures| SystemOrchestrator
    ConfigManager -.->|settings| TradingEngine
    AlembicMigrations ==>|migrates| PostgreSQL
                </div>
            </div>

            <div class="legend">
                <div class="legend-item root">
                    <h3>üî¥ Root System</h3>
                    <p>–ì–ª–∞–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏. 673 —Ñ–∞–π–ª–∞, 207K+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞, Python 3.8+</p>
                </div>
                <div class="legend-item entry">
                    <h3>üü¢ Entry Point</h3>
                    <p>–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —Å–∏—Å—Ç–µ–º—ã</p>
                </div>
                <div class="legend-item core">
                    <h3>üîµ Trading Core</h3>
                    <p>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: engine, orders, risk management</p>
                </div>
                <div class="legend-item ml">
                    <h3>üü£ ML System</h3>
                    <p>Machine Learning: UnifiedPatchTST –º–æ–¥–µ–ª—å, 240+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤, GPU</p>
                </div>
                <div class="legend-item data">
                    <h3>üü° Data Layer</h3>
                    <p>PostgreSQL (–ø–æ—Ä—Ç 5555), —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ</p>
                </div>
                <div class="legend-item exchange">
                    <h3>üü† Exchanges</h3>
                    <p>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 7 –±–∏—Ä–∂–∞–º–∏ —á–µ—Ä–µ–∑ API –∏ WebSocket</p>
                </div>
                <div class="legend-item api">
                    <h3>‚ö™ Web Interface</h3>
                    <p>REST API (8080) –∏ React Frontend (5173)</p>
                </div>
                <div class="legend-item monitor">
                    <h3>üî¥ Utilities</h3>
                    <p>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î</p>
                </div>
            </div>

            <div class="flow-description">
                <h2>üìà –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–∏—Å—Ç–µ–º–µ</h2>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="flow-step-number">1</div>
                        <div class="flow-step-text"><strong>–ó–∞–ø—É—Å–∫:</strong> BOT_AI_V3 ‚Üí UnifiedLauncher ‚Üí SystemOrchestrator</div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-step-number">2</div>
                        <div class="flow-step-text"><strong>–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:</strong> ExchangeManager ‚Üî DataManager ‚Üí PostgreSQL</div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-step-number">3</div>
                        <div class="flow-step-text"><strong>ML –æ–±—Ä–∞–±–æ—Ç–∫–∞:</strong> DataManager ‚Üí FeatureEngineering ‚Üí MLManager ‚Üí MLSignalProcessor</div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-step-number">4</div>
                        <div class="flow-step-text"><strong>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤:</strong> MLSignalProcessor ‚Üí SignalGenerator ‚Üí TradingEngine</div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-step-number">5</div>
                        <div class="flow-step-text"><strong>–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:</strong> TradingEngine ‚Üí RiskManager ‚Üí OrderManager ‚Üí ExchangeManager</div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-step-number">6</div>
                        <div class="flow-step-text"><strong>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:</strong> HealthMonitor ‚Üí PostgreSQL, WebAPI ‚Üí Frontend</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>BOT_AI_V3 v3.0.0 | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –Ø–Ω–≤–∞—Ä—å 2025</p>
            <p>High-performance algorithmic cryptocurrency trading platform</p>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            flowchart: {
                curve: 'basis',
                padding: 20
            }
        });
    </script>
</body>
</html>
