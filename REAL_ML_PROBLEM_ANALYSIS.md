# üö® –†–ï–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –° ML –ú–û–î–ï–õ–¨–Æ

## –î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞: 12 –∞–≤–≥—É—Å—Ç–∞ 2025

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –û–¢–ö–†–´–¢–ò–ï

**–ú–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –û–î–ò–ù–ê–ö–û–í–´–ï –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–ª—è –õ–Æ–ë–´–• –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö!**

### –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞

1. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä—ã–Ω–æ—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ (—Ç—Ä–µ–Ω–¥ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑/–±–æ–∫–æ–≤–∏–∫)
2. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ (BTC/ETH/SOL/BNB/XRP)
3. –ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å —Å–ª—É—á–∞–π–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

**–ú–æ–¥–µ–ª—å –í–°–ï–ì–î–ê –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

```
Raw outputs: [-4.8948632e-06 -1.9764666e-04  1.2558622e-04 ...]
```

---

## üîç –ò–°–¢–ò–ù–ù–ê–Ø –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### 1. **–ú–æ–¥–µ–ª—å –≤ —Ä–µ–∂–∏–º–µ "–∑–∞–º–æ—Ä–æ–∑–∫–∏"**

–ú–æ–¥–µ–ª—å –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:

- üî¥ **–ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ** (–≤–µ—Å–∞ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª–∏—Å—å)
- üî¥ **–ú–æ–¥–µ–ª—å –≤ eval() —Ä–µ–∂–∏–º–µ –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**
- üî¥ **–ü—Ä–æ–±–ª–µ–º–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö** (scaler –æ—Ç–∫–ª—é—á–µ–Ω)

### 2. **Scaler –±—ã–ª –æ—Ç–∫–ª—é—á–µ–Ω!**

–í `ml_manager.py` —Å—Ç—Ä–æ–∫–∏ 391-395:

```python
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –µ—Å—Ç—å (FeatureEngineer —É–∂–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–ª)
features_scaled = features
logger.info("‚ö†Ô∏è Scaler –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –æ—Ç FeatureEngineer –∫–∞–∫ –µ—Å—Ç—å")
```

–ò —Å—Ç—Ä–æ–∫–∏ 313-316:

```python
# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –û—Ç–∫–ª—é—á–∞–µ–º scaler –∏ –¥–ª—è numpy array –¥–∞–Ω–Ω—ã—Ö
features_scaled = input_data
logger.info("‚ö†Ô∏è Scaler –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è numpy array - –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ –µ—Å—Ç—å")
```

### 3. **–ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –Ω–µ–µ**

- –ú–æ–¥–µ–ª—å –±—ã–ª–∞ –æ–±—É—á–µ–Ω–∞ –Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (scaler)
- –°–µ–π—á–∞—Å –æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç –ù–ï–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Ç–æ–º—É, —á—Ç–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ "–∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç" –≤ –æ–¥–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –í–∫–ª—é—á–∏—Ç—å scaler –æ–±—Ä–∞—Ç–Ω–æ

```python
# –í ml_manager.py —Å—Ç—Ä–æ–∫–∞ 390-392
# –í–µ—Ä–Ω—É—Ç—å:
features_scaled = self.scaler.transform(features)
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É scaler

```python
# –í ml_manager.py, –º–µ—Ç–æ–¥ _load_scaler
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ scaler –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –±–µ–∑ scaler

–ï—Å–ª–∏ scaler –ø–æ—Ç–µ—Ä—è–Ω, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –Ω–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## üìä –ü–û–ß–ï–ú–£ –≠–¢–û –û–ë–™–Ø–°–ù–Ø–ï–¢ 100% LONG (–∏–ª–∏ SHORT)

1. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –≤—ã—Ö–æ–¥—ã –º–æ–¥–µ–ª–∏** ‚Üí –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
2. **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏** (0=LONG –≤–º–µ—Å—Ç–æ 0=SHORT):
   - –î–æ: –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å –∫–∞–∫ 100% LONG
   - –ü–æ—Å–ª–µ: —Ç–∞ –∂–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫ 100% SHORT

3. **–ú–æ–¥–µ–ª—å –ù–ï –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä—ã–Ω–æ–∫**, –æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –≤—ã–¥–∞–µ—Ç –∑–∞—É—á–µ–Ω–Ω—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É

---

## üéØ –ü–†–û–í–ï–†–ö–ê –ì–ò–ü–û–¢–ï–ó–´

–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç:

```python
# –ü–æ–¥–∞—Ç—å –Ω–∞ –≤—Ö–æ–¥ –º–æ–¥–µ–ª–∏:
# 1. –í—Å–µ –Ω—É–ª–∏
features1 = np.zeros((96, 240))
pred1 = await ml_manager.predict(features1)

# 2. –í—Å–µ –µ–¥–∏–Ω–∏—Ü—ã
features2 = np.ones((96, 240))
pred2 = await ml_manager.predict(features2)

# 3. –°–ª—É—á–∞–π–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
features3 = np.random.randn(96, 240)
pred3 = await ml_manager.predict(features3)

# –ï—Å–ª–∏ pred1 == pred2 == pred3, —Ç–æ –º–æ–¥–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```

---

## üöÄ –°–†–û–ß–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É scaler**:

```bash
ls -la models/saved/data_scaler.pkl
```

2. **–í–∫–ª—é—á–∏—Ç—å scaler –æ–±—Ä–∞—Ç–Ω–æ –≤ ml_manager.py**

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–¥–µ–ª—å —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Ä–∞–∑–Ω—ã–µ –≤—Ö–æ–¥—ã**

4. **–ï—Å–ª–∏ scaler –ø–æ—Ç–µ—Ä—è–Ω** - –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∏–ª–∏ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (LONG/SHORT) –±—ã–ª–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º**, –Ω–æ –æ–Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É - **–º–æ–¥–µ–ª—å –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ!**

–ü–æ–∫–∞ –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É, –Ω–∏–∫–∞–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –Ω–µ –ø–æ–º–æ–≥—É—Ç –ø–æ–ª—É—á–∏—Ç—å –∞–¥–µ–∫–≤–∞—Ç–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã.

---

*–≠—Ç–æ—Ç –∞–Ω–∞–ª–∏–∑ –æ–±—ä—è—Å–Ω—è–µ—Ç, –ø–æ—á–µ–º—É –±–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç 100% –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä—ã–Ω–∫–∞*
