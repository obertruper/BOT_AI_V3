# Модуль `exchanges`

Модуль `exchanges` отвечает за всю логику взаимодействия с внешними криптовалютными биржами. Его архитектура построена на принципах абстракции и унификации, что позволяет торговой системе работать с различными биржами через единый интерфейс.

---

## Архитектура модуля

В основе модуля лежит базовый абстрактный класс `BaseExchangeInterface`, который определяет "контракт" — набор методов, которые должна реализовать каждая конкретная биржа. Это обеспечивает консистентность и позволяет легко добавлять поддержку новых бирж.

Ключевые компоненты:

1.  **`ExchangeFactory` (`factory.py`):** Фабрика, отвечающая за создание экземпляров клиентов для конкретных бирж. Она инкапсулирует логику выбора нужного класса и передачи ему учетных данных.
2.  **`ExchangeManager` (`exchange_manager.py`):** Менеджер, который управляет жизненным циклом всех активных биржевых подключений. При старте системы он читает конфигурацию, инициализирует клиенты для всех включенных бирж и предоставляет к ним доступ.
3.  **`ExchangeRegistry` (`registry.py`):** Простой реестр для хранения ссылок на активные экземпляры бирж.

---

## Структура модуля

| Файл / Директория | Описание |
| :--- | :--- |
| **`base/`** | **(Ключевая директория)** Содержит `exchange_interface.py` — базовый абстрактный класс, который определяет общий интерфейс для всех бирж. Также здесь находятся общие модели данных (`models.py`) и типы ордеров (`order_types.py`). |
| **`bybit/`**, **`binance/`**, и т.д. | Директории с реализацией для каждой конкретной биржи. Содержат класс, наследующий `BaseExchangeInterface`, и адаптеры для работы с API биржи. |
| **`exchange_manager.py`** | `ExchangeManager`. Управляет всеми биржевыми подключениями в системе. |
| **`factory.py`** | `ExchangeFactory`. Фабричный класс для создания экземпляров биржевых клиентов. |
| **`registry.py`** | `ExchangeRegistry`. Простой реестр для хранения активных клиентов бирж. |
