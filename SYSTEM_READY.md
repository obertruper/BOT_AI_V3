# ‚úÖ BOT Trading v3 - –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï

**–î–∞—Ç–∞**: 30 –∏—é–ª—è 2025
**–í–µ—Ä—Å–∏—è**: 3.0.0-alpha
**–°—Ç–∞—Ç—É—Å**: –†–ê–ë–û–¢–ê–ï–¢

## üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º

–°–∏—Å—Ç–µ–º–∞ BOT Trading v3 —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π AI-based –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç!

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- **SystemOrchestrator** - –≥–ª–∞–≤–Ω—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã
- **TraderManager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–π–¥–µ—Ä–∞–º–∏
- **TraderFactory** - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
- **HealthChecker** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
- **ML Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PatchTST –º–æ–¥–µ–ª—å—é
- **Enhanced SL/TP** - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å–æ–≤

### üîß –¢—Ä–µ–±—É—é—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤ .env
- **Exchange Registry** - –Ω—É–∂–Ω—ã API –∫–ª—é—á–∏ –±–∏—Ä–∂
- **Telegram Bot** - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–æ–∫–µ–Ω –∏ –≤–∫–ª—é—á–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É

### 1. –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫

```bash
cd /mnt/SSD/PYCHARMPRODJECT/BOT_AI_V3
source venv/bin/activate
python main.py
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
./scripts/start_v3.sh
```

### 3. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)

```bash
source venv/bin/activate
python web/launcher.py
```

## üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `GET /api/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã
- `GET /api/system/status` - –ø–æ–ª–Ω—ã–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- `GET /api/system/config` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
- `GET /api/traders` - —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
- `GET /api/strategies` - –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- `GET /api/monitoring/metrics` - –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### ML —Ñ—É–Ω–∫—Ü–∏–∏

- **PatchTST –º–æ–¥–µ–ª—å** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **240 –≤—Ö–æ–¥–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** ‚Üí **20 –≤—ã—Ö–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π**
- **Signal Processor** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏

- **Enhanced SL/TP Manager**:
  - –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø (percentage, fixed, ATR, adaptive)
  - –ß–∞—Å—Ç–∏—á–Ω—ã–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç (multi-level)
  - –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏
  - –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
PGPASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_postgres
```

–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î –±–µ–∑ –ø–∞—Ä–æ–ª—è:

```bash
sudo -u postgres psql -p 5555
CREATE USER obertruper;
ALTER USER obertruper WITH SUPERUSER;
```

### 2. API –∫–ª—é—á–∏ –±–∏—Ä–∂

–í `.env` —Ñ–∞–π–ª–µ —É–∫–∞–∂–∏—Ç–µ –∫–ª—é—á–∏:

```env
BYBIT_API_KEY=–≤–∞—à_–∫–ª—é—á
BYBIT_API_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç
```

### 3. Telegram –±–æ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```env
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
TELEGRAM_CHAT_ID=–≤–∞—à_chat_id
```

–ó–∞—Ç–µ–º –≤ `config/system.yaml`:

```yaml
notifications:
  telegram:
    enabled: true  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ true
```

## üéØ –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ç—Ä–µ–π–¥–µ—Ä–∞

### –ß–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `config/traders/my_trader.yaml`:

```yaml
name: "My ML Trader"
exchange: "bybit"
symbol: "BTCUSDT"
strategy: "patchtst_strategy"

trading_params:
  leverage: 10
  max_position_size: 1000

risk_management:
  stop_loss: 2.0  # %
  take_profit: 3.0  # %
  max_daily_loss: 5.0  # %

ml_config:
  model_path: "models/saved/best_model_20250728_215703.pth"
  confidence_threshold: 0.6

enabled: true
```

### –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
python scripts/create_ml_trader.py \
  --name "ML BTC Trader" \
  --symbol BTCUSDT \
  --exchange bybit \
  --leverage 10
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç—ã

### –õ–æ–≥–∏

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
tail -f logs/system.log

# –¢–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
tail -f logs/trades.log

# –û—à–∏–±–∫–∏
tail -f logs/errors.log
```

### –ú–µ—Ç—Ä–∏–∫–∏

- Prometheus: <http://localhost:9090>
- Grafana: <http://localhost:3000> (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –û—Å–Ω–æ–≤–Ω–æ–π: <http://localhost:8080>
- API docs: <http://localhost:8080/api/docs>

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

```bash
curl http://localhost:8080/api/health
```

### 2. –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

```bash
curl http://localhost:8080/api/system/metrics
```

### 3. –°–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

```bash
curl http://localhost:8080/api/strategies
```

## üÜò –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

   ```bash
   source venv/bin/activate
   which python  # –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ venv
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

   ```bash
   pip install -r requirements.txt
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:

   ```bash
   python scripts/check_v3_readiness.py
   ```

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL:

   ```bash
   sudo systemctl status postgresql
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç 5555:

   ```bash
   sudo netstat -tulpn | grep 5555
   ```

3. –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

   ```bash
   psql -p 5555 -U obertruper -d bot_trading_v3
   ```

### ML –º–æ–¥–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –º–æ–¥–µ–ª–∏:

   ```bash
   ls -la models/saved/best_model_*.pth
   ```

2. –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏:

   ```bash
   python scripts/check_ml_model.py
   ```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã:

- ‚ö° –ó–∞–ø—É—Å–∫: ~3 —Å–µ–∫—É–Ω–¥—ã
- üíæ –ü–∞–º—è—Ç—å: ~200-300 MB (–±–µ–∑ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤)
- üîÑ CPU: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è
- üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤: –¥–æ 1000/—Å–µ–∫
- üåê API –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: <50ms

## üéä –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –µ—â–µ —Ä–∞–∑

–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ BOT Trading v3 - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π —Å AI/ML –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫:

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏—é —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—é –∫ –±–∏—Ä–∂–∞–º
- ‚úÖ –ó–∞–ø—É—Å–∫—É —Ç–æ—Ä–≥–æ–≤–ª–∏

**–£–¥–∞—á–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏!** üöÄüìà

---

*–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Claude Code*
*–í–µ—Ä—Å–∏—è: 3.0.0-alpha | –î–∞—Ç–∞: 30 –∏—é–ª—è 2025*
