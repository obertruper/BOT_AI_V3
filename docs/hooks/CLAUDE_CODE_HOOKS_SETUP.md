# üé£ Claude Code Hooks Setup –¥–ª—è BOT_AI_V3

–ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–∫–æ–≤ Claude Code –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

### 1. **Pre-commit —Ö—É–∫–∏** (git)

- 15+ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python (Black, isort, Ruff)
- –õ–∏–Ω—Ç–∏–Ω–≥ JavaScript/TypeScript (ESLint, Prettier)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Bandit, detect-secrets)
- –í–∞–ª–∏–¥–∞—Ü–∏—è YAML/JSON —Ñ–∞–π–ª–æ–≤

### 2. **Claude Code —Ö—É–∫–∏** (AI assistant)

- **UserPromptSubmit**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- **PreToolUse**: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **PostToolUse**: –ê–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **Notification**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- **Stop**: –°–≤–æ–¥–∫–∞ —Å–µ—Å—Å–∏–∏ –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### 3. **–°–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã** (`.claude/commands/`)

- `/check-quality` - –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- `/optimize-strategy` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- `/fix-issue` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ GitHub issues
- `/deploy-check` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```text
.claude/
‚îú‚îÄ‚îÄ settings.json          # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ hooks.json            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ö—É–∫–∏ (legacy)
‚îú‚îÄ‚îÄ hooks/                # Python-—Å–∫—Ä–∏–ø—Ç—ã —Ö—É–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ user_prompt_submit.py
‚îÇ   ‚îú‚îÄ‚îÄ pre_tool_use.py
‚îÇ   ‚îú‚îÄ‚îÄ post_tool_use.py
‚îÇ   ‚îú‚îÄ‚îÄ notification.py
‚îÇ   ‚îú‚îÄ‚îÄ stop.py
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ commands/             # –°–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ check-quality.md
‚îÇ   ‚îú‚îÄ‚îÄ optimize-strategy.md
‚îÇ   ‚îú‚îÄ‚îÄ fix-issue.md
‚îÇ   ‚îî‚îÄ‚îÄ deploy-check.md
‚îî‚îÄ‚îÄ logs/                # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îú‚îÄ‚îÄ prompts.jsonl
    ‚îú‚îÄ‚îÄ tool_use.jsonl
    ‚îú‚îÄ‚îÄ notifications.jsonl
    ‚îî‚îÄ‚îÄ sessions.jsonl
```

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Python —Ñ–∞–π–ª–∞:

1. Claude –≤–Ω–æ—Å–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. PostToolUse —Ö—É–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. Black —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥
4. isort —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã
5. Ruff –∏—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –æ—à–∏–±–∫–∏
6. MyPy –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã

### –ó–∞—â–∏—Ç–∞ –æ—Ç –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

PreToolUse —Ö—É–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç:

- `rm -rf /` –∏ –ø–æ–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ (.env, credentials)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤
- –û–ø–∞—Å–Ω—ã–µ curl/wget –∫–æ–º–∞–Ω–¥—ã

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

–ü—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:

- "—Å—Ç—Ä–∞—Ç–µ–≥–∏—è" ‚Üí –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –±—ç–∫—Ç–µ—Å—Ç–∞—Ö
- "deploy" ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ pre-deployment —á–µ–∫–ª–∏—Å—Ç–∞
- "bug" ‚Üí –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ —Ç–µ—Å—Ç–∞—Ö
- "secret/key" ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
tail -f .claude/logs/prompts.jsonl | jq .

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
cat .claude/logs/tool_use.jsonl | \
  jq -s 'group_by(.tool) | map({tool: .[0].tool, count: length})'

# –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è
tail -1 .claude/logs/sessions.jsonl | jq .
```

### –°–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã

–í Claude Code –ø—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ:

- `/check-quality` - –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞—á–µ—Å—Ç–≤–∞
- `/optimize-strategy RSI_MACD` - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- `/fix-issue #42` - –∏—Å–ø—Ä–∞–≤–∏—Ç—å issue #42
- `/deploy-check` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

### –û—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ö—É–∫–æ–≤

–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å —Ö—É–∫:

```bash
# –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ .claude/settings.json
# –∏–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
mv .claude/hooks/post_tool_use.py .claude/hooks/post_tool_use.py.disabled
```

## üõ†Ô∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤ `.claude/hooks/`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è Claude
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `settings.json`

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è

- –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π Python-—Å–∫—Ä–∏–ø—Ç
- –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–•—É–∫–∏ —Å–æ–∑–¥–∞—é—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:

- –ß–∞—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥
- –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –•—É–∫–∏ –∏–º–µ—é—Ç timeout 60 —Å–µ–∫—É–Ω–¥
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –ó–∞—â–∏—Ç–∞ sensitive —Ñ–∞–π–ª–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤

## üéØ Best Practices

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª—ç—à-–∫–æ–º–∞–Ω–¥—ã** –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ö—É–∫–∏** –ø–æ–¥ —Å–≤–æ–π workflow
4. **–î–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π** —Å –∫–æ–º–∞–Ω–¥–æ–π —á–µ—Ä–µ–∑ git
5. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Ö—É–∫–∏** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

*–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –•—É–∫–∏ Claude Code —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É—é—Ç —Ä—É—Ç–∏–Ω–Ω—ã–µ
–∑–∞–¥–∞—á–∏ –∏ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞.*
