# üöÄ ML Integration Roadmap –¥–ª—è BOT_AI_V3

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ML —Å–∏—Å—Ç–µ–º—ã –∏–∑ LLM TRANSFORM –≤ BOT_AI_V3 –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ UnifiedPatchTST.

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (70%)

1. **–ú–æ–¥–µ–ª–∏ –ë–î** - `database/models/market_data.py`
   - raw_market_data - —Ö—Ä–∞–Ω–µ–Ω–∏–µ OHLCV –¥–∞–Ω–Ω—ã—Ö
   - processed_market_data - –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
   - technical_indicators - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
   - market_data_snapshots - —Ç–µ–∫—É—â–∏–µ —Å–Ω–∏–º–∫–∏ —Ä—ã–Ω–∫–∞

2. **Alembic –º–∏–≥—Ä–∞—Ü–∏–∏** - `database/migrations/versions/e72e5072a1bc_*.py`
   - –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–∞–±–ª–∏—Ü
   - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

3. **ML —Ñ–∞–π–ª—ã** - –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –∏–∑ LLM TRANSFORM
   - `ml/models/best_model_20250728_215703.pth` (45MB)
   - `ml/models/data_scaler.pkl` (4KB)
   - `ml/logic/patchtst_model.py`
   - `ml/logic/feature_engineering.py`

4. **DataLoader** - `data/data_loader.py`
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å –±–∏—Ä–∂
   - –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multiple timeframes

5. **DataProcessor** - `data/data_processor.py`
   - –†–∞—Å—á–µ—Ç 30+ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FeatureEngineer (240+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤)
   - –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

6. **MLSignalGenerator** - `ml/ml_signal_generator.py`
   - –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏ UnifiedPatchTST
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (20 —Ü–µ–ª–µ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã

## üéØ –û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ (30%)

### 1. Signal Scheduler (Priority: HIGH)

**–§–∞–π–ª**: `ml/signal_scheduler.py`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:

- Cron-like scheduler –Ω–∞ asyncio
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–º–≤–æ–ª–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—è–º–∏ –∑–∞–¥–∞—á
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –ª–æ–≥–∏–∫–∞

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SystemOrchestrator (Priority: HIGH)

**–§–∞–π–ª**: `core/system/orchestrator.py`
**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:

- –î–æ–±–∞–≤–∏—Ç—å MLSignalGenerator –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª ML —Å–∏—Å—Ç–µ–º—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TraderManager

### 3. ML Strategy Adapter (Priority: MEDIUM)

**–§–∞–π–ª**: `strategies/ml_strategy/ml_strategy_adapter.py`
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ML —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:

- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ML —Å–∏–≥–Ω–∞–ª–æ–≤ –≤ –æ—Ä–¥–µ—Ä–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ ML
- Risk management –¥–ª—è ML —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

### 4. MCP —Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (Priority: HIGH)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `.mcp.json`
**–°–µ—Ä–≤–µ—Ä—ã**:

- **ml-data-server** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è ML
- **signal-monitor** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏–≥–Ω–∞–ª–æ–≤
- **model-updater** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

### 5. Monitoring & Alerts (Priority: MEDIUM)

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:

- Prometheus –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è ML —Å–∏—Å—Ç–µ–º—ã
- Grafana –¥–∞—à–±–æ—Ä–¥—ã
- Telegram –∞–ª–µ—Ä—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π

### 6. Testing Suite (Priority: HIGH)

**–¢–µ—Å—Ç—ã**:

- Unit —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Integration —Ç–µ—Å—Ç—ã —Å mock –¥–∞–Ω–Ω—ã–º–∏
- Backtesting framework –¥–ª—è ML —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- Performance benchmarks

## üìÖ Timeline

### –ù–µ–¥–µ–ª—è 1 (—Ç–µ–∫—É—â–∞—è)

- [x] –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –ë–î –∏ –º–∏–≥—Ä–∞—Ü–∏–π
- [x] –ü–µ—Ä–µ–Ω–æ—Å ML —Ñ–∞–π–ª–æ–≤
- [x] DataLoader –∏ DataProcessor
- [x] MLSignalGenerator
- [ ] Signal Scheduler
- [ ] –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã

### –ù–µ–¥–µ–ª—è 2

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SystemOrchestrator
- [ ] ML Strategy Adapter
- [ ] MCP —Å–µ—Ä–≤–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] Integration —Ç–µ—Å—Ç—ã

### –ù–µ–¥–µ–ª—è 3

- [ ] Monitoring setup
- [ ] Performance optimization
- [ ] Documentation
- [ ] Production deployment

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend

- Python 3.8+
- FastAPI
- SQLAlchemy 2.0
- PostgreSQL 16 (port 5555)
- Redis (–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

### ML Stack

- PyTorch 2.0+
- UnifiedPatchTST model
- 240+ features engineering
- Real-time inference

### Infrastructure

- Docker containers
- Kubernetes orchestration
- Prometheus + Grafana
- MCP servers

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### Performance

- [ ] –õ–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ < 100ms
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ 50+ —Å–∏–º–≤–æ–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- [ ] 99.9% uptime –¥–ª—è scheduler

### ML Quality

- [ ] F1 Score > 0.414 (baseline)
- [ ] Win Rate > 46.6%
- [ ] Sharpe Ratio > 1.5

### System

- [ ] Zero data loss
- [ ] Automatic failover
- [ ] Horizontal scalability

## üö® –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–∏—Å–∫–∏

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å ML inference**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: GPU acceleration, model quantization

2. **–ó–∞–¥–µ—Ä–∂–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å –±–∏—Ä–∂**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Multiple data sources, caching

3. **–ü–∞–º—è—Ç—å –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ 50+ —Å–∏–º–≤–æ–ª–æ–≤**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Batch processing, memory optimization

### –ë–∏–∑–Ω–µ—Å —Ä–∏—Å–∫–∏

1. **Overfitting –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Walk-forward validation, A/B testing

2. **Market regime changes**
   - –ú–∏—Ç–∏–≥–∞—Ü–∏—è: Adaptive models, regime detection

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### Immediate (Today)

1. –°–æ–∑–¥–∞—Ç—å signal_scheduler.py
2. –ù–∞–ø–∏—Å–∞—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è data_processor
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π MCP server

### Short-term (This Week)

1. –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
2. –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Å—Ç–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
3. –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Long-term (Month)

1. Production deployment
2. A/B testing —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
3. Continuous model improvement pipeline

## ü§ù –ö–æ–º–∞–Ω–¥–∞ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å

### Core Development

- ML —Å–∏—Å—Ç–µ–º–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
- DevOps –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - —á–µ—Ä–µ–∑ MCP automation

### Code Review

- –í—Å–µ PR —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- Security audit –ø–µ—Ä–µ–¥ production

### Monitoring

- 24/7 –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Grafana
- On-call —Ä–æ—Ç–∞—Ü–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤

## üìä Success Criteria

### Phase 1 (Development)

- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Unit —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã—Ç–∏–µ > 80%
- ‚úÖ Documentation complete

### Phase 2 (Testing)

- [ ] Backtesting –Ω–∞ 6 –º–µ—Å—è—Ü–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] Paper trading 2 –Ω–µ–¥–µ–ª–∏
- [ ] Performance benchmarks passed

### Phase 3 (Production)

- [ ] Live trading —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–∞–ø–∏—Ç–∞–ª–æ–º
- [ ] –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
- [ ] ROI > 15% –≥–æ–¥–æ–≤—ã—Ö

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [ML_INTEGRATION.md](./ML_INTEGRATION.md) - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [CLAUDE.md](../CLAUDE.md) - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

- BOT_AI_V3 - –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç
- LLM TRANSFORM - –∏—Å—Ç–æ—á–Ω–∏–∫ ML —Å–∏—Å—Ç–µ–º—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- Grafana: <http://localhost:3000>
- Prometheus: <http://localhost:9090>
- API Docs: <http://localhost:8080/docs>

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 02.08.2025*
*–í–µ—Ä—Å–∏—è: 1.0.0*
