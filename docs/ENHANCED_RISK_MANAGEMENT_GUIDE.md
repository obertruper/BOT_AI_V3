# üõ°Ô∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏

## üìã –û–±–∑–æ—Ä

–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ BOT Trading v3 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–∏–µ –∏ –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–∏—Å–∫–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ –ü—Ä–æ—Ñ–∏–ª–∏ —Ä–∏—Å–∫–∞

- **Standard** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–º–Ω–æ–∂–∏—Ç–µ–ª—å 1.0)
- **Conservative** - –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–º–Ω–æ–∂–∏—Ç–µ–ª—å 0.7)
- **Very Conservative** - –æ—á–µ–Ω—å –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å (–º–Ω–æ–∂–∏—Ç–µ–ª—å 0.5)

### ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–æ–≤

- **Stable Coins** - —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã (BTC, ETH, SOL, BNB, XRP, ADA, DOT, LINK)
- **Meme Coins** - –º–µ–º–∫–æ–∏–Ω—ã (DOGE, SHIB, PEPE, BONK, FLOKI, MEME, TRUMP, POPCAT, FARTCOIN, 1000PEPE, ZEREBRO, PNUT)

### ‚úÖ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∏—Å–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ ML-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
- –ü–æ—Ä–æ–≥–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏/–ø—Ä–æ–¥–∞–∂–∏ —Å —É—á–µ—Ç–æ–º –ø—Ä–æ—Ñ–∏–ª–µ–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏

### ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π SL/TP

- –¢—Ä–µ–π–ª–∏–Ω–≥-—Å—Ç–æ–ø —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏ —Ñ–∏–∫—Å–∞—Ü–∏–∏
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (config/risk_management.yaml)

```yaml
risk_management:
  enabled: true
  risk_per_trade: 0.02          # 2% –æ—Ç –±–∞–ª–∞–Ω—Å–∞ –Ω–∞ —Å–¥–µ–ª–∫—É
  fixed_risk_balance: 500       # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞
  max_total_risk: 0.10          # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—â–∏–π —Ä–∏—Å–∫ 10%
  max_positions: 10             # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π
  default_leverage: 5           # –ü–ª–µ—á–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  max_leverage: 20              # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ
```

### –ü—Ä–æ—Ñ–∏–ª–∏ —Ä–∏—Å–∫–∞

```yaml
risk_profiles:
  standard:
    risk_multiplier: 1.0
    confidence_threshold: 0.6
    max_position_size: 1000
  conservative:
    risk_multiplier: 0.7
    confidence_threshold: 0.7
    max_position_size: 700
  very_conservative:
    risk_multiplier: 0.5
    confidence_threshold: 0.8
    max_position_size: 500
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–æ–≤

```yaml
asset_categories:
  meme_coins:
    symbols: [DOGE, SHIB, PEPE, BONK, FLOKI, MEME, TRUMP, POPCAT, FARTCOIN, 1000PEPE, ZEREBRO, PNUT]
    risk_multiplier: 0.8        # –°–Ω–∏–∂–µ–Ω–Ω—ã–π —Ä–∏—Å–∫ –¥–ª—è –º–µ–º–∫–æ–∏–Ω–æ–≤
    max_leverage: 10
  stable_coins:
    symbols: [BTC, ETH, SOL, BNB, XRP, ADA, DOT, LINK]
    risk_multiplier: 1.0        # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∏—Å–∫
    max_leverage: 20
```

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```python
from core.config.config_manager import ConfigManager
from risk_management.manager import RiskManager

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ConfigManager
config_manager = ConfigManager()
await config_manager.initialize()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
risk_config = config_manager.get_risk_management_config()

# –°–æ–∑–¥–∞–Ω–∏–µ RiskManager
risk_manager = RiskManager(risk_config)
```

### –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

```python
# –°–æ–∑–¥–∞–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞
signal = {
    "symbol": "BTCUSDT",
    "side": "buy",
    "leverage": 5,
    "ml_predictions": {
        "profit_probability": 0.7,
        "loss_probability": 0.3
    }
}

# –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
position_size = risk_manager.calculate_position_size(signal)
print(f"–†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏: ${position_size}")

# –†–∞—Å—á–µ—Ç —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –ø—Ä–æ—Ñ–∏–ª–µ–º
position_size = risk_manager.calculate_position_size(signal, profile_name="conservative")
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–∞
is_safe = await risk_manager.check_signal_risk(signal)
if is_safe:
    print("‚úÖ –°–∏–≥–Ω–∞–ª –±–µ–∑–æ–ø–∞—Å–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è")
else:
    print("‚ùå –°–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω –ø–æ —Ä–∏—Å–∫–∞–º")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤
global_risk = await risk_manager.check_global_risks()
if global_risk.requires_action:
    print(f"‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–µ–π—Å—Ç–≤–∏–µ: {global_risk.action}")
    print(f"–°–æ–æ–±—â–µ–Ω–∏–µ: {global_risk.message}")
```

### –°–º–µ–Ω–∞ –ø—Ä–æ—Ñ–∏–ª—è —Ä–∏—Å–∫–∞

```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
risk_manager.set_risk_profile("conservative")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
current_profile = risk_manager.current_profile
print(f"–¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å: {current_profile}")
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–∞

```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–ª—è —Å–∏–º–≤–æ–ª–∞
category = risk_manager.get_asset_category("DOGEUSDT")
print(f"–ú–Ω–æ–∂–∏—Ç–µ–ª—å —Ä–∏—Å–∫–∞: {category.get('risk_multiplier', 1.0)}")
print(f"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ: {category.get('max_leverage', 20)}")
```

## üîß ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –í–∫–ª—é—á–µ–Ω–∏–µ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```yaml
ml_integration:
  enabled: true
  thresholds:
    buy_profit: 0.65
    buy_loss: 0.35
    sell_profit: 0.65
    sell_loss: 0.35
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ML-–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏

```python
# –°–∏–≥–Ω–∞–ª —Å ML-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º–∏
signal_with_ml = {
    "symbol": "BTCUSDT",
    "side": "buy",
    "ml_predictions": {
        "profit_probability": 0.75,  # –í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–±—ã–ª–∏
        "loss_probability": 0.25     # –ù–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É–±—ã—Ç–∫–∞
    }
}

# ML-–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ
position_size = risk_manager.calculate_position_size(signal_with_ml)
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

```yaml
monitoring:
  accuracy_alert_threshold: 5.0
  expected_buy_accuracy: 63.04
  expected_sell_accuracy: 60.0
  ml_buy_profit_threshold: 0.1
  ml_buy_loss_threshold: 0.1
  ml_sell_profit_threshold: 0.1
  ml_sell_loss_threshold: 0.1
  monitor_history_days: 14
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ ML-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
ml_status = await risk_manager._check_ml_performance()
if ml_status.requires_action:
    print(f"ML –º–æ–¥–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è: {ml_status.message}")
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source venv/bin/activate

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞
python scripts/test_risk_management.py
```

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ —Ç–µ—Å—Ç–æ–≤

```
üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏
============================================================
1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ConfigManager...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ –∏–∑ config/risk_management.yaml

2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏...
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
   - –í–∫–ª—é—á–µ–Ω: True
   - –†–∏—Å–∫ –Ω–∞ —Å–¥–µ–ª–∫—É: 0.02
   - –ú–∞–∫—Å–∏–º—É–º –ø–æ–∑–∏—Ü–∏–π: 10

3. –°–æ–∑–¥–∞–Ω–∏–µ RiskManager...
‚úÖ RiskManager —Å–æ–∑–¥–∞–Ω
   - –í–∫–ª—é—á–µ–Ω: True
   - –¢–µ–∫—É—â–∏–π –ø—Ä–æ—Ñ–∏–ª—å: standard

4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π —Ä–∏—Å–∫–∞...
   standard: –º–Ω–æ–∂–∏—Ç–µ–ª—å 1.0
   conservative: –º–Ω–æ–∂–∏—Ç–µ–ª—å 0.7
   very_conservative: –º–Ω–æ–∂–∏—Ç–µ–ª—å 0.5

5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∞–∫—Ç–∏–≤–æ–≤...
   BTCUSDT: –º–Ω–æ–∂–∏—Ç–µ–ª—å 1.0
   DOGEUSDT: –º–Ω–æ–∂–∏—Ç–µ–ª—å 0.8
   ETHUSDT: –º–Ω–æ–∂–∏—Ç–µ–ª—å 1.0
   PEPEUSDT: –º–Ω–æ–∂–∏—Ç–µ–ª—å 0.8

6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏...
   –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è BTCUSDT: $10.0000
   standard –ø—Ä–æ—Ñ–∏–ª—å: $10.0000
   conservative –ø—Ä–æ—Ñ–∏–ª—å: $7.0000
   very_conservative –ø—Ä–æ—Ñ–∏–ª—å: $5.0000

7. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∏—Å–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–∞...
   –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤: ‚úÖ –ü—Ä–æ—à–ª–∞

8. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤...
   –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏: ‚úÖ –í –Ω–æ—Ä–º–µ

9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏...
   ‚úÖ ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞
   –ü–æ—Ä–æ–≥–∏: {'buy_profit': 0.65, 'buy_loss': 0.35, 'sell_profit': 0.65, 'sell_loss': 0.35}

10. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞...
   –û–∂–∏–¥–∞–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∫–∏: 63.04%
   –û–∂–∏–¥–∞–µ–º–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂–∏: 60.0%
   –ü–æ—Ä–æ–≥ –∞–ª–µ—Ä—Ç–∞: 5.0%

============================================================
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### üìà –ì–∏–±–∫–æ—Å—Ç—å

- **–ü—Ä–æ—Ñ–∏–ª–∏ —Ä–∏—Å–∫–∞** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–æ–≤** - —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–Ω–µ—Ç
- **ML-–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - —Å–∏–≥–Ω–∞–ª—ã, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏, ML-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø–æ–∑–∏—Ü–∏–π, –ø–ª–µ—á–æ
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∞–ª–µ—Ä—Ç—ã

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** - –±—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã** - —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

### –í TradingEngine

```python
# –í trading/engine.py
from risk_management.manager import RiskManager

class TradingEngine:
    async def _initialize_components(self):
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–µ—Ä–∞
        risk_config = self.config_manager.get_risk_management_config()
        self.risk_manager = RiskManager(risk_config)

    async def process_signal(self, signal):
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ–º
        if await self.risk_manager.check_signal_risk(signal):
            # –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏
            position_size = self.risk_manager.calculate_position_size(signal)
            signal["position_size"] = position_size

            # –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∞
            await self.execute_signal(signal)
        else:
            self.logger.warning("–°–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω –ø–æ —Ä–∏—Å–∫–∞–º")
```

### –í —Å—Ç—Ä–∞—Ç–µ–≥–∏—è—Ö

```python
# –í strategies/ml_strategy/ml_signal_strategy.py
class MLSignalStrategy:
    async def process_signal(self, signal):
        # –ü–æ–ª—É—á–µ–Ω–∏–µ ML-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
        ml_predictions = await self.get_ml_predictions(signal["symbol"])
        signal["ml_predictions"] = ml_predictions

        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤ —Å ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
        if await self.risk_manager.check_signal_risk(signal):
            return signal
        return None
```

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–∞
ls -la config/risk_management.yaml

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ YAML
python -c "import yaml; yaml.safe_load(open('config/risk_management.yaml'))"
```

### –ü—Ä–æ–±–ª–µ–º–∞: ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è ML
print(f"ML enabled: {risk_manager.ml_enabled}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ML
ml_config = config_manager.get_ml_integration_config()
print(f"ML config: {ml_config}")
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏

```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è
print(f"Current profile: {risk_manager.current_profile}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–∞
category = risk_manager.get_asset_category("BTCUSDT")
print(f"Asset category: {category}")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ ML-–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
ml_adjustment = risk_manager._calculate_ml_adjustment(signal)
print(f"ML adjustment: {ml_adjustment}")
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–ì–∏–±–∫–∏–µ –ø—Ä–æ—Ñ–∏–ª–∏ —Ä–∏—Å–∫–∞** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
- ‚úÖ **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–æ–≤** - —Ä–∞–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–Ω–µ—Ç
- ‚úÖ **ML-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Ä–∏—Å–∫–æ–≤
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥
