# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ ML —Å–∏—Å—Ç–µ–º—ã

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ ML –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–∏ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è. –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏, —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏ –∞–Ω–∞–ª–∏–∑ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. Backend –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (`visualize_ml_predictions.py`)
- ‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ Plotly** (6 –ø–∞–Ω–µ–ª–µ–π, ~4.5MB HTML)
- ‚úÖ **–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** (4 –≥—Ä–∞—Ñ–∏–∫–∞ Matplotlib, ~200KB PNG)  
- ‚úÖ **–¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤** (—Ç–æ–ø-50 –∏–∑ 240, Seaborn, ~100KB PNG)
- ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞** –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è string/float –≤ heatmap

### 2. API Endpoints (`web/api/endpoints/ml_visualization.py`)
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω—ã–π REST API –Ω–∞ `/api/ml-viz/`
- ‚úÖ Endpoints: predictions, features, metrics, reports
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º API —Å–µ—Ä–≤–µ—Ä–æ–º

### 3. Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (React/TypeScript)
- ‚úÖ **MLPanel.tsx** - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∏–∑ –∑–∞–≥–ª—É—à–∫–∏
- ‚úÖ **MLChart.tsx** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚úÖ **MLMetrics.tsx** - –∫–∞—Ä—Ç–æ—á–∫–∏ –º–µ—Ç—Ä–∏–∫
- ‚úÖ **PredictionVisualization.tsx** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### 4. –£—Ç–∏–ª–∏—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **run_visualization_demo.py** - –¥–µ–º–æ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ **visualize_real_ml_data.py** - —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–æ—Å–æ–± –∑–∞–ø—É—Å–∫–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
./start_with_logs_filtered.sh

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã
./quick_start.sh               # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
python3 unified_launcher.py    # –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
```

### –î–æ—Å—Ç—É–ø –∫ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- **Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: http://localhost:5173/ml
- **API endpoints**: http://localhost:8083/api/ml-viz/
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã**: `/data/charts/`

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
```bash
python3 run_visualization_demo.py
```
–°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è BTCUSDT, ETHUSDT, SOLUSDT —Å —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

### 2. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
python3 visualize_real_ml_data.py
```
–ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ PostgreSQL (–ø–æ—Ä—Ç 5555) –∏ —Å–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ:
- 97,674 –∑–∞–ø–∏—Å–µ–π —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- 5,514 —Å–∏–≥–Ω–∞–ª–æ–≤
- 1,068 –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤

### 3. –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
from visualize_ml_predictions import (
    create_predictions_chart,
    create_market_data_analysis,
    create_features_heatmap
)

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
chart = create_predictions_chart("BTCUSDT", prediction, df)

# –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞  
market = create_market_data_analysis("BTCUSDT", df, timestamp)

# –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞
heatmap = create_features_heatmap("BTCUSDT", features, timestamp)
```

## üìä –°–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (Plotly)
- –†–∞–∑–º–µ—Ä: ~4.5-4.6 MB –Ω–∞ —Ñ–∞–π–ª
- –°–æ–¥–µ—Ä–∂–∞—Ç 6 –ø–∞–Ω–µ–ª–µ–π:
  1. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º (15m, 1h, 4h, 12h)
  2. –û–∂–∏–¥–∞–µ–º–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
  3. –í–∑–≤–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
  4. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∏ (gauge)
  5. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π (pie chart)
  6. –ú–∞—Ç—Ä–∏—Ü–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (heatmap)

### –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Matplotlib)
- –†–∞–∑–º–µ—Ä: ~185-220 KB –Ω–∞ —Ñ–∞–π–ª
- 4 –≥—Ä–∞—Ñ–∏–∫–∞:
  1. –¶–µ–Ω–∞ —Å–æ —Å–∫–æ–ª—å–∑—è—â–∏–º–∏ —Å—Ä–µ–¥–Ω–∏–º–∏ MA20/MA50
  2. –û–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ (bar chart)
  3. –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å 20-–ø–µ—Ä–∏–æ–¥
  4. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π (histogram)

### –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (Seaborn)
- –†–∞–∑–º–µ—Ä: ~96-216 KB –Ω–∞ —Ñ–∞–π–ª
- –¢–æ–ø-50 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –∏–∑ 240
- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ RdYlBu_r
- –¢–µ–º–Ω—ã–π —Ñ–æ–Ω –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
BOT_AI_V3/
‚îú‚îÄ‚îÄ visualize_ml_predictions.py      # ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ visualize_real_ml_data.py        # ‚úÖ –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ run_visualization_demo.py        # ‚úÖ –î–µ–º–æ —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ data/charts/                     # üìä 26 —Ñ–∞–π–ª–æ–≤ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ ml_predictions_*.html        # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ (4.6MB –∫–∞–∂–¥—ã–π)
‚îÇ   ‚îú‚îÄ‚îÄ market_analysis_*.png        # –ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞ (190-223KB)
‚îÇ   ‚îî‚îÄ‚îÄ features_heatmap_*.png       # –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã (96-216KB)
‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îú‚îÄ‚îÄ api/endpoints/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ml_visualization.py      # ‚úÖ REST API —Å–æ–∑–¥–∞–Ω
‚îÇ   ‚îî‚îÄ‚îÄ frontend/src/
‚îÇ       ‚îú‚îÄ‚îÄ pages/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ MLPanel.tsx          # ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω
‚îÇ       ‚îî‚îÄ‚îÄ components/ml/           # ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ           ‚îú‚îÄ‚îÄ MLChart.tsx
‚îÇ           ‚îú‚îÄ‚îÄ MLMetrics.tsx
‚îÇ           ‚îî‚îÄ‚îÄ PredictionVisualization.tsx
```

## üîß –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–û—à–∏–±–∫–∞ datetime column**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤ DataFrame
2. **String/float conversion –≤ heatmap**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
3. **–ü–æ—Ä—Ç 8083 –∑–∞–Ω—è—Ç**: –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç start_clean.sh
4. **ML features vs features**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–º—è –∫–æ–ª–æ–Ω–∫–∏ –≤ –ë–î
5. **Unified launcher mode 'all'**: –ò–∑–º–µ–Ω–µ–Ω–æ –Ω–∞ 'full'

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏

- **–°–æ–∑–¥–∞–Ω–æ —Ñ–∞–π–ª–æ–≤**: 26 –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π
- **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä**: ~29 MB
- **–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–∏–º–≤–æ–ª–æ–≤**: ADAUSDT, BNBUSDT, BTCUSDT, ETHUSDT, SOLUSDT
- **–¢–∏–ø—ã —Å–∏–≥–Ω–∞–ª–æ–≤**: LONG (BTCUSDT), SHORT (BNBUSDT, ETHUSDT), NEUTRAL (SOLUSDT)
- **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏—è**: –æ—Ç 30.1% –¥–æ 91.8%

## üö® –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **ML —Å–∏—Å—Ç–µ–º–∞ —á–µ—Ä–µ–∑ API**: Endpoint `/api/ml-viz/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 503 –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ML manager
2. **WebSocket real-time**: –ï—â–µ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω
3. **–ù–∏–∑–∫–∞—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤**: 30-31% –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏)

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î
psql -p 5555 -U obertruper -d bot_trading_v3 -c "
SELECT COUNT(*) FROM raw_market_data;
SELECT COUNT(*) FROM signals; 
SELECT COUNT(*) FROM processed_market_data;
"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl -s http://localhost:8083/api/ml-viz/metrics

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
ls -lah data/charts/ | tail -20

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤
tail -f data/logs/bot_trading_$(date +%Y%m%d).log | grep ML
```

## üìù –ò—Ç–æ–≥–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ **–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ML –º–æ–¥–µ–ª–∏
- 3 —Ç–∏–ø–∞ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ, —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã)
- REST API –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ React
- –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –ë–î
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è**:
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ML manager —Å API –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ endpoints
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞: 23 –∞–≤–≥—É—Å—Ç–∞ 2025*
*–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ ML –¥–∞–Ω–Ω—ã—Ö*