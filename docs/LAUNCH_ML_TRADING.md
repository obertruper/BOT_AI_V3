# üöÄ –ó–∞–ø—É—Å–∫ ML —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

## üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **PostgreSQL –Ω–∞ –ø–æ—Ä—Ç—É 5555**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
psql -p 5555 -U obertruper -d bot_trading_v3 -c "SELECT 1;"
```

2. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π .env —Ñ–∞–π–ª**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ
cp .env.example .env
nano .env

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
# - PGUSER, PGPASSWORD, PGDATABASE
# - BYBIT_API_KEY, BYBIT_API_SECRET (–∏–ª–∏ –¥—Ä—É–≥–∞—è –±–∏—Ä–∂–∞)
```

3. **ML –º–æ–¥–µ–ª–∏**

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è
ls -la models/saved/
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
# - best_model_20250728_215703.pth
# - data_scaler.pkl
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ó–∞–ø—É—Å–∫ —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
./start_ml_trading.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫

```bash
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è venv
source venv/bin/activate

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
alembic upgrade head

# –ó–∞–ø—É—Å–∫
python main.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –¢–æ–ª—å–∫–æ ML —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç real-time –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤
python scripts/test_realtime_signals.py

# –î–µ–º–æ ML —Ç—Ä–µ–π–¥–µ—Ä–∞
python scripts/demo_ml_trader.py
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

```bash
python scripts/check_data_availability.py
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞ 30 –¥–Ω–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python scripts/load_historical_data.py

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∑–∞ 7 –¥–Ω–µ–π
python scripts/load_historical_data.py --days 7

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
python scripts/load_historical_data.py --symbols BTCUSDT ETHUSDT
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
tail -f data/logs/trading.log

# ML —Å–∏–≥–Ω–∞–ª—ã
tail -f data/logs/ml_signals.log

# –û—à–∏–±–∫–∏
tail -f data/logs/errors.log
```

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- **–î–∞—à–±–æ—Ä–¥**: <http://localhost:8080>
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: <http://localhost:8080/api/docs>
- **–ú–µ—Ç—Ä–∏–∫–∏**: <http://localhost:9090/metrics>

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ ML —Å–∏–≥–Ω–∞–ª—ã –∏–∑ –ë–î
python -c "
from database.connections import get_db
from database.models import ProcessedMarketData
with get_db() as db:
    signals = db.query(ProcessedMarketData)\\
        .filter(ProcessedMarketData.prediction_meta != None)\\
        .order_by(ProcessedMarketData.created_at.desc())\\
        .limit(10).all()
    for s in signals:
        meta = s.prediction_meta
        print(f'{s.symbol}: {meta.get(\"action\")} '
              f'(confidence: {meta.get(\"confidence\"):.2f}, '
              f'strength: {meta.get(\"signal_strength\"):.2f})')
"
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ML

### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (config/system.yaml)

```yaml
ml:
  enabled: true  # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å ML
  signal_generation:
    interval_seconds: 60  # –ß–∞—Å—Ç–æ—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  symbols:
    - "BTCUSDT"
    - "ETHUSDT"
    # ... –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–∏
  filters:
    min_confidence: 0.45  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
    min_signal_strength: 0.3  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ —Å–∏–≥–Ω–∞–ª–∞
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (config/ml/ml_config.yaml)

- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏
- Feature engineering
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- Risk management

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### Graceful shutdown

```bash
# Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å main.py
# –∏–ª–∏
kill -SIGTERM $(pgrep -f "python main.py")
```

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
pkill -f "python.*BOT_AI_V3"
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### PostgreSQL –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç
sudo netstat -tlnp | grep 5555

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nano /etc/postgresql/*/main/postgresql.conf
# port = 5555
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–∏–Ω–∏–º—É–º –¥–ª—è —Ç–µ—Å—Ç–æ–≤
python scripts/load_historical_data.py --symbols BTCUSDT --days 3
```

### ML –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ LLM TRANSFORM
cp "/mnt/SSD/PYCHARMPRODJECT/LLM TRANSFORM/crypto_ai_trading/models/saved/*" models/saved/
```

### Out of Memory –ø—Ä–∏ ML

```yaml
# –£–º–µ–Ω—å—à–∏—Ç—å batch_size –≤ config/system.yaml
ml:
  signal_generation:
    batch_size: 5  # –í–º–µ—Å—Ç–æ 10
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

1. **–£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤** - –Ω–∞—á–Ω–∏—Ç–µ —Å 3-5
2. **–£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏** - 120 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ 60
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GPU** - device: "cuda" –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. **–í–∫–ª—é—á–∏—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–∂–µ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏–≥–Ω–∞–ª–æ–≤** - —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –∫–∞—á–µ—Å—Ç–≤–æ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤** - –ø–æ–¥–±–µ—Ä–∏—Ç–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ä–æ–≥–∏
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤** - –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç—Ä–µ–π–¥–µ—Ä–∞–º–∏** - –ø–æ–¥–∫–ª—é—á–∏—Ç–µ ML —Å–∏–≥–Ω–∞–ª—ã –∫ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º

---

üí° **–°–æ–≤–µ—Ç**: –ù–∞—á–Ω–∏—Ç–µ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Å–∏–º–≤–æ–ª–æ–≤ (2-3) –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.
