# ‚úÖ BOT Trading v3 - –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## üìã –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 30 –∏—é–ª—è 2025
**–í–µ—Ä—Å–∏—è**: 3.0.0-alpha

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î

- –ü–æ—Ä—Ç –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ 5555 (–≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ 5432)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: obertruper
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: bot_trading_v3
- –§–∞–π–ª: `config/system.yaml`

### 2. ‚úÖ –ü–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω Telegram –±–æ—Ç –∏–∑ v2

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É v3
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ SystemOrchestrator
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –∏–∑ v2
- –§–∞–π–ª—ã:
  - `notifications/telegram/telegram_service.py`
  - `core/system/orchestrator.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)

### 3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PatchTST –º–æ–¥–µ–ª–∏

- –ú–æ–¥–µ–ª—å UnifiedPatchTST —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞
- –ó–∞–º–µ–Ω–∏–ª–∞ XGBoost –∏–∑ v2
- –ü—É—Ç—å –∫ –º–æ–¥–µ–ª–∏: `models/saved/best_model_20250728_215703.pth`
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: F1=0.414, Win Rate=46.6%

### 4. ‚úÖ –°–æ–∑–¥–∞–Ω ML –º–µ–Ω–µ–¥–∂–µ—Ä

- –ü–æ–ª–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PatchTST
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 240 –≤—Ö–æ–¥–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ ‚Üí 20 –≤—ã—Ö–æ–¥–æ–≤
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π: returns, directions, levels, risk
- –§–∞–π–ª: `ml/ml_manager.py`

### 5. ‚úÖ –°–æ–∑–¥–∞–Ω ML signal processor

- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ ML –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –≤ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–∏—Å–∫–æ–≤
- –§–∞–π–ª: `ml/ml_signal_processor.py`

### 6. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Bybit –∞–¥–∞–ø—Ç–µ—Ä

- –û–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ BybitClient –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å legacy adapter
- –§–∞–π–ª—ã:
  - `exchanges/bybit/bybit_exchange.py`
  - `exchanges/factory.py` (–æ–±–Ω–æ–≤–ª–µ–Ω)

### 7. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Enhanced SL/TP –∏–∑ v2

- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω —Å –∞–¥–∞–ø—Ç–∞—Ü–∏–µ–π –ø–æ–¥ async
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
  - –¢—Ä–µ–π–ª–∏–Ω–≥ —Å—Ç–æ–ø (fixed, percentage, ATR, adaptive)
  - –ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏ —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
  - –ß–∞—Å—Ç–∏—á–Ω—ã–π —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏
- –§–∞–π–ª—ã:
  - `trading/sltp/models.py`
  - `trading/sltp/enhanced_manager.py`
  - `trading/sltp/__init__.py`

### 8. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

- –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ —Å v2 –Ω–∞ v3
- –°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
- –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –§–∞–π–ª—ã:
  - `scripts/migration/migrate_from_v2.py`
  - `scripts/check_v3_readiness.py`
  - `scripts/start_v3.sh`

### 9. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- QUICK_START.md - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 5 –º–∏–Ω—É—Ç
- –û–±–Ω–æ–≤–ª–µ–Ω README.md —Å–æ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –≠—Ç–æ—Ç —Ñ–∞–π–ª MIGRATION_COMPLETE.md

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É

### –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /mnt/SSD/PYCHARMPRODJECT/BOT_AI_V3
./scripts/start_v3.sh
```

### –†—É—á–Ω–æ–π —Å–ø–æ—Å–æ–±

```bash
# 1. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source venv/bin/activate

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
python scripts/check_v3_readiness.py

# 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
python main.py
```

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: <http://localhost:8080>
2. **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: <http://localhost:8080/api/docs>
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞**: `curl http://localhost:8080/api/health`
4. **Telegram –±–æ—Ç**: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/status` –±–æ—Ç—É

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5555** (–Ω–µ 5432!)
2. **–ù–µ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ PGHOST** –≤ .env –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã API –∫–ª—é—á–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–π –±–∏—Ä–∂–∏
4. **ML –º–æ–¥–µ–ª—å** –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `models/saved/`

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–µ–π–¥–µ—Ä–æ–≤**:

   ```bash
   python scripts/create_ml_trader.py --name ml_trader_1 --symbol BTCUSDT
   ```

2. **–ó–∞–ø—É—Å–∫ ML —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**:

   ```bash
   python scripts/demo_ml_trader.py  # –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
   python scripts/run_ml_strategy.py --symbol BTCUSDT --live  # –ë–æ–µ–≤–æ–π —Ä–µ–∂–∏–º
   ```

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
   - Grafana –¥–∞—à–±–æ—Ä–¥—ã: <http://localhost:3000>
   - Prometheus –º–µ—Ç—Ä–∏–∫–∏: <http://localhost:9090>
   - –õ–æ–≥–∏: `tail -f logs/trading.log`

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
psql -p 5555 -U obertruper -d bot_trading_v3 -c '\l'
```

### ML –º–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

```bash
python scripts/check_ml_model.py
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

```bash
export PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512
```

## üìù –ò—Ç–æ–≥–∏

–°–∏—Å—Ç–µ–º–∞ BOT Trading v3 –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ v2 —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –Ω–æ–≤—É—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

–û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è v3:

- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ú—É–ª—å—Ç–∏-—Ç—Ä–µ–π–¥–µ—Ä–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PatchTST –≤–º–µ—Å—Ç–æ XGBoost
- ‚úÖ Enhanced SL/TP —Å–∏—Å—Ç–µ–º–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Claude Code SDK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!** üéâ
